{% extends "base.html" %}

{% block title %}Login / Signup with OTP{% endblock %}

{% block content %}
<div class="auth-container" id="account-page-container">
    <div id="otp-entry-container">
        <h2>Enter Your Details</h2>
        <form id="send-otp-form" method="POST" action="{{ url_for('send_otp') }}">
            <div class="form-group">
                <label for="name"><b>Full Name (for Signup)</b></label>
                <input type="text" placeholder="Enter Full Name" name="name" id="name" autocomplete="name">
                <small class="help-text">Only required if you are signing up for a new account.</small>
            </div>
            
            <div class="form-group">
                <label for="phone"><b>Phone Number</b></label>
                <input type="tel" placeholder="Enter Phone Number (e.g., 09xxxxxxxx)" name="phone" id="phone" required autocomplete="tel" pattern="[0-9]{10}">
                <small class="help-text">Your 10-digit phone number (e.g., 0912345678).</small>
            </div>

            <button type="submit" name="action" value="login" class="btn-primary">Login with OTP</button>
            <button type="submit" name="action" value="signup" class="btn-secondary">Sign Up with OTP</button>
        </form>
    </div>
</div>
{% endblock %}

{% block body_extra %}
<script>
    // This script block is specific to account.html if needed for client-side validation
    // For this OTP flow, most logic is now handled by Flask's server-side redirect.
    // The pattern attribute on the phone input provides basic client-side validation.
</script>
{% endblock %}
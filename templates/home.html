{% extends "base.html" %}

{% block title %}Fresh Dairy Products{% endblock %}

{% block content %}
    <section class="hero">
        <div class="hero-content">
            <h1>Fresh Milk, Right at Your Doorstep!</h1>
            <p>Experience the purity and freshness of Baba Milk products, delivered straight from our farm to your home.</p>
            <a href="#products-section" class="btn-primary">Shop Now</a>
        </div>
    </section>

    <section class="search-section container">
        <div class="search-input-group">
            <input type="search" id="product-search-input" placeholder="Search for milk, cheese, butter..." class="search-input">
            <button id="search-action-btn" class="btn-secondary">Search</button>
        </div>
    </section>

    <section id="products-section" class="all-products">
        <h2 class="section-title" id="products-section-title">All Our Products</h2>
        <div class="container">
            <div id="search-results-section" class="product-grid" style="display: none;">
                <!-- Search results will be injected here by JS -->
            </div>

            <!-- All products displayed in a single grid when no search is active -->
            <div id="all-products-display" class="product-grid">
                {% for product in all_products %}
                <div class="product-card">
                    <img src="{{ url_for('static', filename='images/' + product.image_path) }}" alt="{{ product.name }}">
                    <div class="product-info">
                        <h3>{{ product.name }}</h3>
                        <p class="product-description">{{ product.description }}</p>
                        <p class="product-price">ETB {{ product.price | int }}</p>
                        <button type="button" class="add-to-cart-btn"
                                data-product-id="{{ product.id }}"
                                data-name="{{ product.name }}"
                                data-price="{{ product.price }}">
                            Add to Cart
                        </button>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
{% endblock %}
